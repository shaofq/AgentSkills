{
  "type": "page",
  "title": "用户管理",
  "body": {
    "type": "crud",
    "api": "/api/users",
    "syncLocation": false,
    "filter": {
      "title": "筛选条件",
      "body": [
        {
          "type": "input-text",
          "name": "username",
          "label": "用户名"
        },
        {
          "type": "select",
          "name": "status",
          "label": "状态",
          "options": [
            {"label": "全部", "value": ""},
            {"label": "启用", "value": 1},
            {"label": "禁用", "value": 0}
          ]
        }
      ]
    },
    "headerToolbar": [
      {
        "type": "button",
        "label": "新增用户",
        "level": "primary",
        "actionType": "dialog",
        "dialog": {
          "title": "新增用户",
          "body": {
            "type": "form",
            "api": "POST:/api/users",
            "body": [
              {
                "type": "input-text",
                "name": "username",
                "label": "用户名",
                "required": true
              },
              {
                "type": "input-text",
                "name": "email",
                "label": "邮箱",
                "required": true
              },
              {
                "type": "select",
                "name": "role",
                "label": "角色",
                "options": [
                  {"label": "管理员", "value": "admin"},
                  {"label": "普通用户", "value": "user"}
                ]
              }
            ]
          }
        }
      },
      "bulkActions"
    ],
    "bulkActions": [
      {
        "type": "button",
        "label": "批量删除",
        "level": "danger",
        "actionType": "ajax",
        "confirmText": "确定要删除选中的数据吗？",
        "api": "DELETE:/api/users/batch?ids=${ids}"
      }
    ],
    "columns": [
      {
        "name": "id",
        "label": "ID",
        "width": 80
      },
      {
        "name": "username",
        "label": "用户名",
        "sortable": true
      },
      {
        "name": "email",
        "label": "邮箱"
      },
      {
        "name": "role",
        "label": "角色",
        "type": "mapping",
        "map": {
          "admin": "管理员",
          "user": "普通用户"
        }
      },
      {
        "name": "status",
        "label": "状态",
        "type": "mapping",
        "map": {
          "1": "<span class='label label-success'>启用</span>",
          "0": "<span class='label label-danger'>禁用</span>"
        }
      },
      {
        "name": "createdAt",
        "label": "创建时间",
        "type": "date",
        "format": "YYYY-MM-DD HH:mm"
      },
      {
        "type": "operation",
        "label": "操作",
        "width": 150,
        "buttons": [
          {
            "type": "button",
            "label": "编辑",
            "level": "link",
            "actionType": "dialog",
            "dialog": {
              "title": "编辑用户",
              "body": {
                "type": "form",
                "api": "PUT:/api/users/${id}",
                "body": [
                  {
                    "type": "input-text",
                    "name": "username",
                    "label": "用户名",
                    "required": true
                  },
                  {
                    "type": "input-text",
                    "name": "email",
                    "label": "邮箱"
                  }
                ]
              }
            }
          },
          {
            "type": "button",
            "label": "删除",
            "level": "link",
            "className": "text-danger",
            "actionType": "ajax",
            "confirmText": "确定要删除吗？",
            "api": "DELETE:/api/users/${id}"
          }
        ]
      }
    ],
    "footerToolbar": [
      "statistics",
      "switch-per-page",
      "pagination"
    ]
  }
}
